<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title> DOM </title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="reset.css">
    </head>

    <body>
        <div id="container" class="containerEl">
            <form  class="div-form">
                <div id="li-id" class="div-input">
                    <label for="text"> Enter Text </label>
                    <input type="text" id="text" name="text" >
                </div>

                <div  class="div-send">
                    <button type="submit" name="button" id="btext" > Add Text</button>
                </div>
            </form>

        </div>

        

    <script>
        'use strick'

        //add elements
        document.getElementById("btext").addEventListener("click", myFunc);
        
        function myFunc(addText) {
            //prevents page for refresh
            addText.preventDefault()
            

            // DIV PARAMETERS
            //Add new div in li-id
            var divEl = document.createElement('div');

            //assign class name to div
            divEl.className = "dynamic-div";
            
            //assign dynamiclly created div to existing div with id(li-id)
            document.getElementById('li-id').appendChild(divEl);
            //----------------------------------------------------------------

            //LIST PARAMETERS
            //create input listen variable
            var inputListen = document.getElementById("text").value;

            //create li tag
            var liEl = document.createElement('li');

            liEl.className = "dynamic-li"

            //create text in li which listens to input
            var liText = document.createTextNode(inputListen);

            //assign inputed text to li
            liEl.appendChild(liText);


            
            //---------------------------------------------------------------------


            //INSERTING LIST TAGS IN NEW DIV TAG
            //variable for dynamic div
            var calc = document.getElementsByClassName("dynamic-div");

            //loop for div which inserts user input as list on every dynamiclly created div
            for (var i=0; i< calc.length; i++) {
                calc[i].appendChild(liEl);
            }
            //----------------------------------------------------------------------



            // BUTTON PARAMETERS
            var dynamicLi = document.getElementsByClassName("dynamic-li");

            var buttonEl = document.createElement('button');
            buttonEl.type = "button";
            buttonEl.textContent = "DELETE";
            buttonEl.className = "dynamic-button"
            
            buttonEl.onclick = ("click", deleteDiv)
            for (var a=0; a < dynamicLi.length; a++) {
                dynamicLi[a].appendChild(buttonEl);
            }


            
            
            
            
            function deleteDiv() {
                   
                    divEl.remove();
                
            }
        }

         //--------------------------------------------------------------------

        



        //-----------------------------------------------------------------------

        //clear input field after submit
        document.getElementById("btext").addEventListener("click", clearFunc);

        function clearFunc() {
            document.getElementById("text").value = '';
        }
        
    </script>

    

    </body>
</html>